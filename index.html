<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>WeChat Format - æ°å…‹çš„æ’ç‰ˆç¥å™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
</head>
<body class="bg-gray-50 h-screen flex flex-col overflow-hidden">
    <header class="bg-white border-b px-6 py-3 flex justify-between items-center shadow-sm">
        <h1 class="text-xl font-bold text-indigo-600">WeChat Format</h1>
        <button onclick="copyToWeChat()" class="bg-indigo-600 text-white px-6 py-2 rounded-full font-bold shadow-md active:scale-95 transition-all">ä¸€é”®å¤åˆ¶åˆ°å…¬ä¼—å·</button>
    </header>

    <main class="flex-1 flex overflow-hidden">
        <textarea id="editor" class="w-1/2 p-6 focus:outline-none border-r bg-gray-50 resize-none text-gray-700" placeholder="åœ¨è¿™é‡Œè¾“å…¥ Markdown..."></textarea>
        <div class="w-1/2 overflow-y-auto p-8 bg-white">
            <div id="preview-content" class="max-w-[550px] mx-auto min-h-[800px] border p-10 shadow-lg rounded-lg"></div>
            
            <div class="mt-16 pt-10 border-t-2 border-dashed border-gray-100 text-center">
                <p class="text-gray-600 font-bold mb-6">ğŸš€ å–œæ¬¢è¿™ä¸ªé¡¹ç›®ï¼Ÿè¯·ä½œè€…å–æ¯å’–å•¡å§</p>
                <div class="flex justify-center items-center gap-6 flex-wrap">
                    <a href="https://afdian.com/a/jin-ship-jack" target="_blank" class="bg-[#946ce6] hover:bg-[#7e56d8] text-white px-6 py-3 rounded-xl font-bold shadow-lg transition-all flex items-center gap-2">
                        âš¡ åœ¨çˆ±å‘ç”µæ”¯æŒæˆ‘
                    </a>
                    
                    <div class="bg-white p-3 rounded-xl shadow-md border border-gray-100 inline-block">
                        <img src="https://github.com/jin-ship-jack/wechat-format/blob/main/pay.jpg?raw=true" class="w-32 h-32 rounded-lg mx-auto mb-2">
                        <p class="text-[10px] text-gray-400 font-medium">å¾®ä¿¡æ‰«ç èµèµ</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // æ¸²æŸ“ä¸å¤åˆ¶é€»è¾‘ï¼ˆå·²ä¼˜åŒ–ï¼‰
        const renderer = new marked.Renderer();
        renderer.code = (code) => `<section style="background:#282c34; border-radius:10px; padding:20px; margin:20px 0;"><pre style="margin:0"><code style="color:#abb2bf; font-size:14px; font-family:monospace;">${hljs.highlightAuto(code).value}</code></pre></section>`;
        marked.setOptions({ renderer: renderer });

        const editor = document.getElementById('editor');
        const preview = document.getElementById('preview-content');
        const update = () => { preview.innerHTML = marked.parse(editor.value); };
        editor.addEventListener('input', update);
        editor.value = "# ä½ çš„æ–°å·¥å…·å·²å¼€å¼ ï¼\n\nå¿«å» CSDN å‘å¸ƒä½ çš„ç¬¬ä¸€ç¯‡æ¨å¹¿æ–‡ç« å§ã€‚\n\n- å¾®ä¿¡èµèµç ï¼šâœ… å·²é…ç½®\n- çˆ±å‘ç”µé“¾æ¥ï¼šâœ… å·²é…ç½®";
        update();

        function copyToWeChat() {
            const range = document.createRange();
            range.selectNode(preview);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            document.execCommand('copy');
            alert('å¤åˆ¶æˆåŠŸï¼');
        }
    </script>
</body>
</html>
